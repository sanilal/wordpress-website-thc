var vcGridStyleSlider;!function(a){vcGridStyleSlider=function(b){this.grid=b,this.settings=b.settings,this.$el=!1,this.$content=!1,this.filterValue=null,this.isLoading=!1,this.htmlCache=!1,this.$loader=a('<div class="vc_grid-loading"></div>'),this.$firstSlideItems,this.init()},vcGridStyleSlider.prototype.init=function(){_.bindAll(this,"addItems","initCarousel")},vcGridStyleSlider.prototype.setIsLoading=function(){this.$loader.show(),this.isLoading=!0},vcGridStyleSlider.prototype.unsetIsLoading=function(){this.isLoading=!1,this.$loader.hide()},vcGridStyleSlider.prototype.render=function(){this.$el=this.grid.$el,this.$content=this.$el,this.$content.append(this.$loader),this.setIsLoading(),this.grid.ajax({},this.addItems)},vcGridStyleSlider.prototype.filter=function(b){if(b=_.isUndefined(b)||"*"===b?"":b,this.filterValue==b)return!1;this.$content.css({transform:"scale(0.8)",opacity:"0",transition:"all 0.15s"});var d,c=this;setTimeout(function(){c.$content.data("owl.vccarousel")&&(c.$content.off("initialized.owl.vccarousel"),c.$content.off("changed.owl.vccarousel"),c.$content.data("vcPagination")&&c.$content.data("vcPagination").twbsPagination("destroy"),c.$content.data("owl.vccarousel").destroy()),c.$content.empty(),d=a(".vc_grid-item",c.htmlCache),""!==b&&(d=d.filter(b)),c.filterValue=b,c.buildSlides(d.addClass("vc_visible-item")),c.$content.css({transform:"scale(1)",opacity:"1",transition:"all 0.3s"})},150)},vcGridStyleSlider.prototype.buildSlides=function(b){var c;parseInt(this.settings.items_per_page);for(c=0;c<b.length;c++)a(b[c]).appendTo(this.$content);this.$content.addClass("floral-vc-grid-slider"),this.$content.imagesLoaded(this.initCarousel())},vcGridStyleSlider.prototype.addItems=function(a){this.$el.append(a),!1===this.htmlCache&&(this.htmlCache=a),this.unsetIsLoading(),this.$content=this.$el.find('[data-vc-pageable-content="true"]'),this.$content.addClass("owl-carousel vc_grid-owl-theme"),this.grid.initFilter(),this.filter(),window.vc_prettyPhoto(),floral.core.do_prettyphoto()},vcGridStyleSlider.prototype.initCarousel=function(){function d(a){var b;return a=a>0?a:1,b=Math.ceil(12/a),e=6===b?{1200:{items:6},992:{items:4},768:{items:3},480:{items:2},0:{items:1}}:4===b?{992:{items:4},768:{items:3},480:{items:2},0:{items:1}}:{992:{items:b},480:{items:b-1>0?b-1:1},0:{items:1}}}if(a.fn.vcOwlCarousel){var b,c=this,e=d(this.settings.element_width);b=this.$content.data("owl.vccarousel"),b&&b.destroy(),this.$content.on("initialized.owl.vccarousel",function(b){if(c.settings.paging_design.indexOf("pagination")>-1){var d=b.relatedTarget,e=Math.ceil(d.items().length*c.settings.element_width/12),f=a("<div></div>").addClass("vc_grid-pagination").appendTo(c.$el);f.twbsPagination({totalPages:e,visiblePages:c.settings.visible_pages,onPageClick:function(a,b){d.to(b-1)},paginationClass:"vc_grid-pagination-list vc_grid-"+c.settings.paging_design+" vc_grid-pagination-color-"+c.settings.paging_color,nextClass:"vc_grid-next",first:e>20&&" ",last:e>20&&" ",prev:e>3&&" ",next:e>3&&" ",prevClass:"vc_grid-prev",lastClass:"vc_grid-last",loop:c.settings.loop,firstClass:"vc_grid-first",pageClass:"vc_grid-page",activeClass:"vc_grid-active",disabledClass:"vc_grid-disabled"}),a(this).data("vcPagination",f),c.$content.on("changed.owl.vccarousel",function(b){var c=a(this).data("vcPagination"),d=c.data("twbsPagination");d.render(d.getPages(1+b.page.index)),d.setupEvents()}),window.vc_prettyPhoto(),floral.core.do_prettyphoto()}}).vcOwlCarousel({items:this.settings.element_width>0?Math.ceil(12/this.settings.element_width):1,responsive:e,loop:this.settings.loop,margin:this.settings.gap,nav:!0,rtl:a("body").hasClass("rtl"),navText:["",""],navContainerClass:"vc_grid-owl-nav vc_grid-owl-nav-color-"+this.settings.arrows_color,dotClass:"vc_grid-owl-dot",dotsClass:"vc_grid-owl-dots vc_grid-"+this.settings.paging_design+" vc_grid-owl-dots-color-"+this.settings.paging_color,navClass:["vc_grid-owl-prev "+this.settings.arrows_design+" vc_grid-nav-prev-"+this.settings.arrows_position,"vc_grid-owl-next "+this.settings.arrows_design.replace("_left","_right")+" vc_grid-nav-next-"+this.settings.arrows_position],animateIn:"none"!==this.settings.animation_in&&this.settings.animation_in,animateOut:"none"!==this.settings.animation_out&&this.settings.animation_out,autoHeight:0,autoplay:!0===this.settings.auto_play,autoplayTimeout:this.settings.speed,callbacks:!0,onTranslated:function(){setTimeout(function(){a(window).trigger("grid:items:added",c.$el)},750)},onRefreshed:function(){setTimeout(function(){a(window).trigger("grid:items:added",c.$el)},750)}})}}}(jQuery);var vcGridStyleAll;!function(a){vcGridStyleAll=function(b){this.grid=b,this.settings=b.settings,this.filterValue=null,this.$el=!1,this.$content=!1,this.isLoading=!1,this.$loader=a('<div class="vc_grid-loading"></div>'),this.init()},vcGridStyleAll.prototype.init=function(){_.bindAll(this,"addItems","showItems")},vcGridStyleAll.prototype.render=function(){this.$el=this.grid.$el,this.$content=this.$el,this.setIsLoading(),this.grid.ajax({},this.addItems)},vcGridStyleAll.prototype.setIsLoading=function(){this.$content.append(this.$loader),this.isLoading=!0},vcGridStyleAll.prototype.unsetIsLoading=function(){this.isLoading=!1,this.$loader&&this.$loader.remove()},vcGridStyleAll.prototype.filter=function(a){if(a=_.isUndefined(a)||"*"===a?"":a,this.filterValue==a)return!1;var b=this.$content.parents(".vc_grid-container").data("initial-loading-animation");vcGridSettings.addItemsAnimation=b,this.$content.find(".vc_visible-item").removeClass("vc_visible-item "+vcGridSettings.addItemsAnimation+" animated"),this.filterValue=a,_.defer(this.showItems)},vcGridStyleAll.prototype.showItems=function(){var b=this.$content.find(".vc_grid-item"+this.filterValue);this.setIsLoading();var c=this.$content.parents(".vc_grid-container").data("initial-loading-animation");vcGridSettings.addItemsAnimation=c,b.addClass("vc_visible-item "+("none"!==vcGridSettings.addItemsAnimation?vcGridSettings.addItemsAnimation+" animated":"")),this.unsetIsLoading(),a(window).trigger("grid:items:added",this.$el)},vcGridStyleAll.prototype.addItems=function(b){var c=a(b);this.$el.append(c),this.unsetIsLoading(),this.$content=c.find('[data-vc-grid-content="true"]'),this.grid.initFilter(),this.filter(),window.vc_prettyPhoto(),floral.core.do_prettyphoto()}}(jQuery);var vcGridStyleLoadMore;!function(a){vcGridStyleLoadMore=function(b){this.grid=b,this.settings=b.settings,this.$loadMoreBtn=!1,this.$el=!1,this.filterValue=null,this.$content=!1,this.isLoading=!1,this.$loader=a('<div class="vc_grid-loading"></div>'),this.init()},vcGridStyleLoadMore.prototype.setIsLoading=function(){this.$loadMoreBtn&&this.$loadMoreBtn.hide(),this.isLoading=!0},vcGridStyleLoadMore.prototype.unsetIsLoading=function(){this.isLoading=!1,this.setLoadMoreBtn()},vcGridStyleLoadMore.prototype.init=function(){_.bindAll(this,"addItems")},vcGridStyleLoadMore.prototype.render=function(){this.$el=this.grid.$el,this.$content=this.$el,this.setIsLoading(),this.$content.append(this.$loader),this.grid.ajax({},this.addItems)},vcGridStyleLoadMore.prototype.showItems=function(){var b=this.$content.find(".vc_grid_filter-item:not(.vc_visible-item):lt("+this.settings.items_per_page+")");this.setIsLoading();var c=this.$content.parents(".vc_grid-container").data("initial-loading-animation");vcGridSettings.addItemsAnimation=c,b.addClass("vc_visible-item "+vcGridSettings.addItemsAnimation+" animated"),this.unsetIsLoading(),a(window).trigger("grid:items:added",this.$el)},vcGridStyleLoadMore.prototype.filter=function(a){return a=_.isUndefined(a)||"*"===a?"":a,this.filterValue!=a&&(this.$content.parents(".vc_grid-container").data("initial-loading-animation"),this.$content.find(".vc_visible-item, .vc_grid_filter-item").removeClass("vc_visible-item vc_grid_filter-item "),this.filterValue=a,this.$content.find(".vc_grid-item"+this.filterValue).addClass("vc_grid_filter-item"),this.showItems(),void 0)},vcGridStyleLoadMore.prototype.addItems=function(b){var c=a(b);this.$el.append(c),this.unsetIsLoading(),this.$content=c.find('[data-vc-grid-content="true"]'),this.$loadMoreBtn=c.find('[data-vc-grid-load-more-btn="true"] .vc_btn3'),this.$loadMoreBtn.length||(this.$loadMoreBtn=c.find('[data-vc-grid-load-more-btn="true"] .vc_btn'));var d=this;this.$loadMoreBtn.click(function(a){a.preventDefault(),d.showItems()}),this.$loadMoreBtn.hide(),this.grid.initFilter(),this.filter(),this.$loader.remove(),window.vc_prettyPhoto(),floral.core.do_prettyphoto()},vcGridStyleLoadMore.prototype.setLoadMoreBtn=function(){a('.vc_grid_filter-item:not(".vc_visible-item")',this.$content).length&&a(".vc_grid_filter-item",this.$content).length?this.$loadMoreBtn&&this.$loadMoreBtn.show():this.$loadMoreBtn&&this.$loadMoreBtn.hide()}}(jQuery);var vcGridStyleLazy;!function(a){a.waypoints("extendFn","vc_grid-infinite",function(b){var c,d,e=this;return d=a.extend({},a.fn.waypoint.defaults,{container:"auto",items:".infinite-item",offset:"bottom-in-view",handle:{load:function(a){}}},b),c="auto"===d.container?e:a(d.container,e),d.handler=function(b){var c;("down"===b||"right"===b)&&(c=a(this),c.waypoint("destroy"),d.handle.load.call(this,d))},this.waypoint(d)}),vcGridStyleLazy=function(b){this.grid=b,this.settings=b.settings,this.$el=!1,this.filterValue=null,this.$content=!1,this.isLoading=!1,this.$loader=a('<div class="vc_grid-loading"></div>'),this.init()},vcGridStyleLazy.prototype.setIsLoading=function(){this.$content.append(this.$loader),this.isLoading=!0},vcGridStyleLazy.prototype.unsetIsLoading=function(){this.isLoading=!1,this.$loader&&this.$loader.remove()},vcGridStyleLazy.prototype.init=function(){_.bindAll(this,"addItems","showItems")},vcGridStyleLazy.prototype.render=function(){this.$el=this.grid.$el,this.$content=this.$el,this.setIsLoading(),this.grid.ajax({},this.addItems)},vcGridStyleLazy.prototype.showItems=function(){var b=this.$content.find(".vc_grid_filter-item:not(.vc_visible-item):lt("+this.settings.items_per_page+")");this.setIsLoading();var c=this.$content.parents(".vc_grid-container").data("initial-loading-animation");vcGridSettings.addItemsAnimation=c,b.addClass("vc_visible-item "+vcGridSettings.addItemsAnimation+" animated"),this.unsetIsLoading(),a(window).trigger("grid:items:added",this.$el)},vcGridStyleLazy.prototype.filter=function(a){if(a=_.isUndefined(a)||"*"===a?"":a,this.filterValue==a)return!1;var b=this.$content.parents(".vc_grid-container").data("initial-loading-animation");vcGridSettings.addItemsAnimation=b,this.$content.find(".vc_visible-item, .vc_grid_filter-item").removeClass("vc_visible-item vc_grid_filter-item "+("none"!==vcGridSettings.addItemsAnimation?vcGridSettings.addItemsAnimation+" animated":"")),this.filterValue=a,this.$content.find(".vc_grid-item"+this.filterValue).addClass("vc_grid_filter-item"),_.defer(this.showItems),this.initScroll()},vcGridStyleLazy.prototype.addItems=function(b){var c=a(b);this.$el.append(c),this.unsetIsLoading(),this.$content=c.find('[data-vc-grid-content="true"]'),this.grid.initFilter(),this.filter(),window.vc_prettyPhoto(),floral.core.do_prettyphoto()},vcGridStyleLazy.prototype.initScroll=function(){var a=this;this.$content.unbind("waypoint").waypoint("vc_grid-infinite",{container:"auto",items:".vc_grid-item",handle:{load:function(b){a.showItems(),a.checkNext(b)}}})},vcGridStyleLazy.prototype.checkNext=function(a){if(this.$content.find('.vc_grid_filter-item:not(".vc_visible-item")').length){var b,c=this;b=function(){return c.$content.waypoint(a)},_.defer(b)}}}(jQuery);var vcGridStylePagination;!function(a){vcGridStylePagination=function(b){this.grid=b,this.settings=b.settings,this.$el=!1,this.$content=!1,this.filterValue=null,this.isLoading=!1,this.htmlCache=!1,this.$loader=a('<div class="vc_grid-loading"></div>'),this.$firstSlideItems,this.init()},vcGridStylePagination.prototype.init=function(){_.bindAll(this,"addItems","initCarousel")},vcGridStylePagination.prototype.setIsLoading=function(){this.$loader.show(),this.isLoading=!0},vcGridStylePagination.prototype.unsetIsLoading=function(){this.isLoading=!1,this.$loader.hide()},vcGridStylePagination.prototype.render=function(){this.$el=this.grid.$el,this.$content=this.$el,this.$content.append(this.$loader),this.setIsLoading(),this.grid.ajax({},this.addItems)},vcGridStylePagination.prototype.filter=function(b){if(b=_.isUndefined(b)||"*"===b?"":b,this.filterValue==b)return!1;this.$content.css({transform:"scale(0.8)",opacity:"0",transition:"all 0.15s"});var d,c=this;setTimeout(function(){c.$content.data("owl.vccarousel")&&(c.$content.off("initialized.owl.vccarousel"),c.$content.off("changed.owl.vccarousel"),c.$content.data("vcPagination")&&c.$content.data("vcPagination").twbsPagination("destroy"),c.$content.data("owl.vccarousel").destroy()),c.$content.empty(),d=a(".vc_grid-item",c.htmlCache),""!==b&&(d=d.filter(b)),c.filterValue=b,c.buildSlides(d.addClass("vc_visible-item")),c.$content.css({transform:"scale(1)",opacity:"1",transition:"all 0.3s"})},150)},vcGridStylePagination.prototype.buildSlides=function(b){var c,d,e,f=parseInt(this.settings.items_per_page);for(c=0,d=b.length;d>c;c+=f)e=b.slice(c,c+f),a('<div class="vc_pageable-slide-wrapper">').append(a(e)).appendTo(this.$content);this.$content.find(".vc_pageable-slide-wrapper:first").imagesLoaded(this.initCarousel)},vcGridStylePagination.prototype.addItems=function(a){this.$el.append(a),!1===this.htmlCache&&(this.htmlCache=a),this.unsetIsLoading(),this.$content=this.$el.find('[data-vc-pageable-content="true"]'),this.$content.addClass("owl-carousel vc_grid-owl-theme"),this.grid.initFilter(),this.filter(),window.vc_prettyPhoto(),floral.core.do_prettyphoto()},vcGridStylePagination.prototype.initCarousel=function(){if(a.fn.vcOwlCarousel){var b,c=this;b=this.$content.data("owl.vccarousel"),b&&b.destroy(),this.$content.on("initialized.owl.vccarousel",function(b){if(c.settings.paging_design.indexOf("pagination")>-1){var d=b.relatedTarget,e=d.items().length,f=a("<div></div>").addClass("vc_grid-pagination").appendTo(c.$el);f.twbsPagination({totalPages:e,visiblePages:c.settings.visible_pages,onPageClick:function(a,b){d.to(b-1)},paginationClass:"vc_grid-pagination-list vc_grid-"+c.settings.paging_design+" vc_grid-pagination-color-"+c.settings.paging_color,nextClass:"vc_grid-next",first:e>20&&" ",last:e>20&&" ",prev:e>5&&" ",next:e>5&&" ",prevClass:"vc_grid-prev",lastClass:"vc_grid-last",loop:c.settings.loop,firstClass:"vc_grid-first",pageClass:"vc_grid-page",activeClass:"vc_grid-active",disabledClass:"vc_grid-disabled"}),a(this).data("vcPagination",f),c.$content.on("changed.owl.vccarousel",function(b){var c=a(this).data("vcPagination"),d=c.data("twbsPagination");d.render(d.getPages(1+b.page.index)),d.setupEvents()}),window.vc_prettyPhoto(),floral.core.do_prettyphoto()}}).vcOwlCarousel({items:1,loop:this.settings.loop,margin:10,nav:!0,navText:["",""],rtl:a("body").hasClass("rtl"),navContainerClass:"vc_grid-owl-nav vc_grid-owl-nav-color-"+this.settings.arrows_color,dotClass:"vc_grid-owl-dot",dotsClass:"vc_grid-owl-dots vc_grid-"+this.settings.paging_design+" vc_grid-owl-dots-color-"+this.settings.paging_color,navClass:["vc_grid-owl-prev "+this.settings.arrows_design+" vc_grid-nav-prev-"+this.settings.arrows_position,"vc_grid-owl-next "+this.settings.arrows_design.replace("_left","_right")+" vc_grid-nav-next-"+this.settings.arrows_position],animateIn:"none"!==this.settings.animation_in&&this.settings.animation_in,animateOut:"none"!==this.settings.animation_out&&this.settings.animation_out,autoHeight:!0,autoplay:!0===this.settings.auto_play,autoplayTimeout:this.settings.speed,callbacks:!0,onTranslated:function(){setTimeout(function(){a(window).trigger("grid:items:added",c.$el)},750)},onRefreshed:function(){setTimeout(function(){a(window).trigger("grid:items:added",c.$el)},750)}})}}}(jQuery);var vcGridStyleAllMasonry;!function(a){vcGridStyleAllMasonry=function(b){this.grid=b,this.settings=b.settings,this.filterValue=null,this.$el=!1,this.$content=!1,this.isLoading=!1,this.filtered=!1,this.$loader=a('<div class="vc_grid-loading"></div>'),this.masonryEnabled=!1,_.bindAll(this,"setMasonry"),this.init()},vcGridStyleAllMasonry.prototype=_.extend({},vcGridStyleAll.prototype,{updateHeight:function(){},showItems:function(){var b=this.$content.find(".vc_grid-item"+this.filterValue),c=this;this.setIsLoading(),b.imagesLoaded(function(){b.addClass("vc_visible-item"),c.setItems(b),c.filtered&&(c.filtered=!1,c.setMasonry()),c.unsetIsLoading(),window.vc_prettyPhoto(),floral.core.do_prettyphoto(),a(window).trigger("grid:items:added",c.$el)}),this.updateHeight()},filter:function(b){return b=_.isUndefined(b)||"*"===b?"":b,this.filterValue!=b&&(this.filterValue=b,this.$content.data("masonry")&&this.$content.masonry("destroy"),this.masonryEnabled=!1,this.$content.find(".vc_visible-item").removeClass("vc_visible-item"),this.$content.find(".vc_grid-item"+this.filterValue),this.filtered=!0,a(window).resize(this.setMasonry),this.setMasonry(),void this.showItems()),b},setIsLoading:function(){this.$el.append(this.$loader),this.isLoading=!0},unsetIsLoading:function(){this.isLoading=!1,this.$loader&&this.$loader.remove()},setItems:function(a){this.masonryEnabled?this.$content.masonry("appended",a):this.setMasonry()},setMasonry:function(){var a,b,c=window.innerWidth;c<vcGridSettings.mobileWindowWidth?(this.$content.data("masonry")&&this.$content.masonry("destroy"),this.masonryEnabled=!1):this.masonryEnabled?(this.$content.masonry("reloadItems"),this.$content.masonry("layout")):(a=this.$content.parents(".vc_grid-container").data("initial-loading-animation"),b={itemSelector:".vc_visible-item",isResizeBound:!1,columnWidth:".vc_col-sm-"+this.settings.element_width},"none"==a?(b.hiddenStyle={visibility:"hidden"},b.visibleStyle={visibility:"visible"}):"fadeIn"==a?(b.hiddenStyle={opacity:0},b.visibleStyle={opacity:1}):(b.hiddenStyle={opacity:0,transform:"scale(0.001)"},b.visibleStyle={opacity:1,transform:"scale(1)"}),this.$content.masonry(b),this.masonryEnabled=!0)}})}(jQuery);var vcGridStyleLazyMasonry;!function(a){vcGridStyleLazyMasonry=function(b){this.grid=b,this.settings=b.settings,this.$el=!1,this.filterValue=null,this.filtered=!1,this.$content=!1,this.isLoading=!1,this.$loader=a('<div class="vc_grid-loading"></div>'),this.masonryEnabled=!1,_.bindAll(this,"setMasonry"),this.init()},vcGridStyleLazyMasonry.prototype=_.extend({},vcGridStyleLazy.prototype,{showItems:function(){if(!0===this.isLoading)return!1;this.setIsLoading();var b=this.$content.find(".vc_grid_filter-item:not(.vc_visible-item):lt("+this.settings.items_per_page+")"),c=this;b.imagesLoaded(function(){b.addClass("vc_visible-item"),c.setItems(b),c.filtered&&(c.filtered=!1,c.setMasonry(),c.initScroll(),window.vc_prettyPhoto(),floral.core.do_prettyphoto()),c.unsetIsLoading(),a(window).trigger("grid:items:added",c.$el)})},setIsLoading:function(){this.$el.append(this.$loader),this.isLoading=!0},filter:function(b){return b=_.isUndefined(b)||"*"===b?"":b,this.filterValue!=b&&(this.$content.data("masonry")&&this.$content.masonry("destroy"),this.masonryEnabled=!1,this.$content.find(".vc_visible-item, .vc_grid_filter-item").removeClass("vc_visible-item vc_grid_filter-item"),this.filterValue=b,this.$content.find(".vc_grid-item"+this.filterValue).addClass("vc_grid_filter-item"),this.filtered=!0,a(window).resize(this.setMasonry),this.setMasonry(),void _.defer(this.showItems))},setItems:function(a){this.masonryEnabled?this.$content.masonry("appended",a):this.setMasonry()},setMasonry:function(){var a,b,c=window.innerWidth;c<vcGridSettings.mobileWindowWidth?(this.$content.data("masonry")&&this.$content.masonry("destroy"),this.masonryEnabled=!1):this.masonryEnabled?(this.$content.masonry("reloadItems"),this.$content.masonry("layout")):(a=this.$content.parents(".vc_grid-container").data("initial-loading-animation"),b={itemSelector:".vc_visible-item",isResizeBound:!1},"none"==a?(b.hiddenStyle={visibility:"hidden"},b.visibleStyle={visibility:"visible"}):"fadeIn"==a?(b.hiddenStyle={opacity:0},b.visibleStyle={opacity:1}):(b.hiddenStyle={opacity:0,transform:"scale(0.001)"},b.visibleStyle={opacity:1,transform:"scale(1)"}),this.$content.masonry(b),this.masonryEnabled=!0)}})}(jQuery);var vcGridStyleLoadMoreMasonry;!function(a){vcGridStyleLoadMoreMasonry=function(b){this.grid=b,this.settings=b.settings,this.$loadMoreBtn=!1,this.$el=!1,this.filterValue=null,this.$content=!1,this.isLoading=!1,this.filtered=!1,this.$loader=a('<div class="vc_grid-loading"></div>'),this.masonryEnabled=!1,_.bindAll(this,"setMasonry"),this.init()},vcGridStyleLoadMoreMasonry.prototype=_.extend({},vcGridStyleLoadMore.prototype,{updateHeight:function(){},showItems:function(){if(!0===this.isLoading)return!1;this.setIsLoading();var b=this.$content.find(".vc_grid_filter-item:not(.vc_visible-item):lt("+this.settings.items_per_page+")"),c=this;b.imagesLoaded(function(){b.addClass("vc_visible-item"),c.setItems(b),c.filtered&&(c.filtered=!1,c.setMasonry(),window.vc_prettyPhoto(),floral.core.do_prettyphoto()),c.unsetIsLoading(),a(window).trigger("grid:items:added",c.$el)}),this.updateHeight()},filter:function(b){return b=_.isUndefined(b)||"*"===b?"":b,this.filterValue!=b&&(this.$content.data("masonry")&&this.$content.masonry("destroy"),this.masonryEnabled=!1,this.$content.find(".vc_visible-item, .vc_grid_filter-item").removeClass("vc_visible-item vc_grid_filter-item"),this.filterValue=b,this.$content.find(".vc_grid-item"+this.filterValue).addClass("vc_grid_filter-item"),this.filtered=!0,a(window).resize(this.setMasonry),this.setMasonry(),void this.showItems())},setIsLoading:function(){this.$el.append(this.$loader),this.$loadMoreBtn&&this.$loadMoreBtn.hide(),this.isLoading=!0},unsetIsLoading:function(){this.isLoading=!1,this.$loader&&this.$loader.remove(),this.setLoadMoreBtn()},setItems:function(a){this.masonryEnabled?this.$content.masonry("appended",a):this.setMasonry()},setMasonry:function(){var a,b,c=window.innerWidth;c<vcGridSettings.mobileWindowWidth?(this.$content.data("masonry")&&this.$content.masonry("destroy"),this.masonryEnabled=!1):this.masonryEnabled?(this.$content.masonry("reloadItems"),this.$content.masonry("layout")):(a=this.$content.parents(".vc_grid-container").data("initial-loading-animation"),b={itemSelector:".vc_visible-item",isResizeBound:!1},"none"==a?(b.hiddenStyle={visibility:"hidden"},b.visibleStyle={visibility:"visible"}):"fadeIn"==a?(b.hiddenStyle={opacity:0},b.visibleStyle={opacity:1}):(b.hiddenStyle={opacity:0,transform:"scale(0.001)"},b.visibleStyle={opacity:1,transform:"scale(1)"}),this.$content.masonry(b),this.masonryEnabled=!0)}})}(jQuery);var VcGrid,vcGridSettings={addItemsAnimation:"zoomIn",mobileWindowWidth:768,itemAnimationSpeed:1e3,itemAnimationDelay:[],clearAnimationDelays:function(){_.each(this.itemAnimationDelay,function(a){window.clearTimeout(a)}),this.itemAnimationDelay=[]}};!function(a){"use strict";function b(b){return this.each(function(){var c=a(this),d=c.data("vcGrid");d||c.data("vcGrid",d=new VcGrid(this)),"string"==typeof b&&d[b]()})}VcGrid=function(b){this.$el=a(b),this.settings={},this.$filter=!1,this.gridBuilder=!1,this.init()},VcGrid.prototype.init=function(){_.bindAll(this,"filterItems","filterItemsDropdown"),this.setSettings(),this.initStyle(),this.initHover(),this.initZoneLink()},VcGrid.prototype.setSettings=function(){this.settings=a.extend({visible_pages:5},this.$el.data("vcGridSettings")||{})},VcGrid.prototype.initStyle=function(){var b=!!this.settings.style&&a.camelCase("vc-grid-style-"+this.settings.style);b&&!_.isUndefined(window[b])&&window[b].prototype.render&&(this.gridBuilder=new window[b](this),this.gridBuilder.render())},VcGrid.prototype.initFilter=function(){this.$filter=this.$el.find("[data-vc-grid-filter]"),this.$filterDropdown=this.$el.find("[data-vc-grid-filter-select]"),this.$filter.length&&this.$filter.find(".vc_grid-filter-item").unbind("click").click(this.filterItems),this.$filterDropdown.length&&this.$filterDropdown.unbind("change").change(this.filterItemsDropdown)},VcGrid.prototype.initHover=function(){this.$el.on("mouseover",".vc_grid-item-mini",function(){var b=a(this);b.addClass("vc_is-hover")}).on("mouseleave",".vc_grid-item-mini",function(){var b=a(this);b.removeClass("vc_is-hover")})},VcGrid.prototype.initZoneLink=function(){window.vc_iframe?(this.$el.on("click.zonePostLink","[data-vc-link]",function(){var b=(a(this),a(this).data("vcLink"));window.open(b)}),this.$el.on("click",".vc_gitem-link",function(b){var c=a(this);b.preventDefault(),!c.hasClass("vc-gitem-link-ajax")&&window.open(c.attr("href"))})):this.$el.on("click.zonePostLink","[data-vc-link]",function(){var b=a(this),c=a(this).data("vcLink");"_blank"===b.data("vcTarget")?window.open(c):window.location.href=c})},VcGrid.prototype.initHover_old=function(){this.$el.on("mouseover",".vc_grid-item",function(){var b=a(this);b.hasClass("vc_is-hover")||(vcGridSettings.clearAnimationDelays(),b.addClass("vc_is-hover vc_is-animated"),b.find(".vc_grid-item-row-animate").each(function(){var c=a(this),d=c.data("animationIn"),e=c.data("animationOut");c.removeClass(e).addClass(d),vcGridSettings.itemAnimationDelay.push(_.delay(function(){c.removeClass(d),b.removeClass("vc_is-animated")},vcGridSettings.itemAnimationSpeed))}))}).on("mouseleave",".vc_grid-item",function(){var b=a(this);vcGridSettings.clearAnimationDelays(),b.addClass("vc_is-animated").removeClass("vc_is-hover"),b.find(".vc_grid-item-row-animate").each(function(){var a=b.find(".vc_grid-item-row-animate"),c=a.data("animationOut"),d=a.data("animationIn");a.addClass(c),vcGridSettings.itemAnimationDelay.push(_.delay(function(){a.removeClass(c+" "+d),b.removeClass("vc_is-animated")},vcGridSettings.itemAnimationSpeed-1))})})},VcGrid.prototype.filterItems=function(b){var c=(this.style?a.camelCase("filter-"+this.style):"filterAll",a(b.currentTarget).find("[data-vc-grid-filter-value]")),d=c.data("vcGridFilterValue");return b&&b.preventDefault(),!c.hasClass("vc_active")&&(this.$filter.find(".vc_active").removeClass("vc_active"),this.$filterDropdown.find(".vc_active").removeClass("vc_active"),this.$filterDropdown.find('[value="'+d+'"]').addClass("vc_active").attr("selected","selected"),c.parent().addClass("vc_active"),void this.gridBuilder.filter(d))},VcGrid.prototype.filterItemsDropdown=function(a){var b=this.$filterDropdown.find(":selected"),c=b.val();return!b.hasClass("vc_active")&&(this.$filterDropdown.find(".vc_active").removeClass("vc_active"),this.$filter.find(".vc_active").removeClass("vc_active"),this.$filter.find('[data-vc-grid-filter-value="'+c+'"]').parent().addClass("vc_active"),b.addClass("vc_active"),void this.gridBuilder.filter(c))},VcGrid.prototype.ajax=function(b,c){var d;_.isUndefined(b)&&(b={}),d=_.extend({action:"vc_get_vc_grid_data",vc_action:"vc_get_vc_grid_data",tag:this.settings.tag,data:this.settings,vc_post_id:this.$el.data("vcPostId"),_vcnonce:this.$el.data("vcPublicNonce")},b),a.ajax({type:"POST",dataType:"html",url:this.$el.data("vcRequest"),data:d}).done(c)},a.fn.vcGrid=b,a.fn.vcGrid.Constructor=VcGrid,a(document).ready(function(){a("[data-vc-grid-settings]").vcGrid()})}(jQuery);