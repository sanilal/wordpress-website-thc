var floral={};!function($,window){"use strict";var $body=$("body"),$html=$("html"),$window=$(window),isRTL=$body.hasClass("rtl");floral.core={on_ready:function(){floral.core.magnific_gallery_image_popup(),floral.core.magnific_inline_popup(),floral.core.magnific_single_image_popup(),floral.core.do_prettyphoto(),floral.core.do_prettyPhoto_popup(),floral.core.do_init_sticky(),floral.core.do_owl_carousel(),floral.core.do_parallax_handling(),floral.core.do_columns_equal_height(),floral.core.do_init_fittext(),floral.core.do_init_tooltip(),floral.core.do_init_dismissible_element(),floral.core.do_init_nicescroll(),floral.core.do_init_hoverdir()},magnific_inline_popup:function(){$(".floral-inline-popup").each(function(){var e=$(this).data("inline-html")||"No data to display";$(this).magnificPopup({items:{src:e,type:"inline"},showCloseBtn:!0})})},magnific_single_image_popup:function(e){void 0===e&&(e=$("a.single-item-popup:not(.ready)")),e.magnificPopup({type:"image",removalDelay:300,mainClass:"mfp-fade",image:{titleSrc:function(e){return e.el.parents(".entry-thumbnail").find("img").attr("title")}}}).addClass("ready")},magnific_gallery_image_popup:function(){$("div.gallery-popup").each(function(){$(this).magnificPopup({delegate:":not(.cloned) a.gallery-item-popup",type:"image",gallery:{enabled:!0},removalDelay:300,mainClass:"mfp-fade gallery-popup",image:{titleSrc:function(e){return e.el.parents(".entry-thumbnail").find("img").attr("title")}},callbacks:{open:function(){$.magnificPopup.instance;this.container.on("mousewheel",function(e){0<e.deltaY?$(this).find(".mfp-arrow-right").trigger("click"):$(this).find(".mfp-arrow-left").trigger("click"),e.preventDefault()})}}})})},do_prettyphoto:function(){$(document).ready(function(){$("a[data-rel^='floral-prettyPhoto']:not(.pretty-ready), .owl-item:not(.cloned) a[data-rel^='floral-owl-prettyPhoto']:not(.pretty-ready), .floral-gallery a[data-rel^='floral-owl-prettyPhoto']:not(.pretty-ready), a.floral-pretty-photo-link:not(.pretty-ready)").prettyPhoto({padding:15,social_tools:!1,allow_resize:!0,modal:!1,showTitle:!0,hook:"data-rel"}).addClass("pretty-ready")})},do_prettyPhoto_popup:function(){try{var a=[];$.fn.prettyPhoto&&$("a.prettyPhoto").each(function(){var e={animationSpeed:"normal",padding:15,opacity:.7,showTitle:!0,allowresize:!0,counter_separator_label:"/",hideflash:!1,deeplinking:!1,modal:!1,hook:"data-rel",callback:function(){!!location.href.indexOf("#!prettyPhoto")&&(location.hash="")},social_tools:""},o=$(this).attr("data-width"),t=$(this).attr("data-height");o&&(e.default_width=o),t&&(e.default_height=t),a.push($(this).attr("href"));$(this).prettyPhoto(e)})}catch(e){window.console&&window.console.log&&console.log(e)}},do_owl_carousel:function(e){void 0===e&&(e=$("div.owl-carousel:not(.manual)")),e.each(function(){var o=$(this),e={items:4,nav:!1,navText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],dots:!1,loop:!0,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,rtl:isRTL,startPosition:0,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,autoplayHoverPause:!0},t=$.extend({},e,$.parseJSON(o.attr("data-options")));if(o.on({"initialized.owl.carousel":function(){o.children().show()}}).owlCarousel(t),o.hasClass("mouse-wheel-enabled")&&o.on("mousewheel",".owl-stage",function(e){0<e.deltaY?o.trigger("next.owl"):o.trigger("prev.owl"),e.preventDefault()}),o.hasClass("owl-control-floral")){var a=o.find(".owl-dots"),n=o.find(".owl-nav");0<n.length&&0<a.length&&!n.hasClass("disabled")&&n.find(".owl-prev").after(a)}})},do_slick_carousel:function(e){void 0===e&&(e=$("div.slick-carousel:not(.manual)")),e.each(function(){var t=$(this);t.addClass("slick-ready");var e=$.extend({},{slidesPerRow:4,arrows:!1,dots:!1,infinite:!1},$.parseJSON(t.attr("data-options")));t.on("init",function(e,o){t.children().show()}).slick(e)})},do_parallax_handling:function(){floral.core.is_mobile_device()||$.stellar({horizontalScrolling:!1,scrollProperty:"scroll",positionProperty:"position",responsive:!0,parallaxBackgrounds:!0}),floral.core.is_mobile_device()&&$("[data-vc-parallax]").each(function(){$(this).attr("data-vc-parallax","1")})},do_columns_equal_height:function(){$.fn.equalHeight=function(){var n=[];return $.each(this,function(e,o){var t,a=$(o);t="border-box"==a.css("box-sizing")||"border-box"==a.css("-moz-box-sizing")?a.innerHeight():a.height(),n.push(t)}),this.height(Math.max.apply(window,n)),this},$.fn.equalHeightGrid=function(e){var o=this;o.css("height","auto");for(var t=0;t<o.length;t++)if(t%e==0){for(var a=$(o[t]),n=1;n<e;n++)a=a.add(o[t+n]);a.equalHeight()}return this},$.fn.detectGridColumns=function(){var a=0,n=0;return this.each(function(e,o){var t=$(o).offset().top;if(0!==a&&t!=a)return!1;n++,a=t}),n},$.fn.responsiveEqualHeightGrid=function(){var o=this;function e(){var e=o.detectGridColumns();o.equalHeightGrid(e)}return $(window).on("resize load",e),e(),this},$(".columns-equal-height").length&&$(".columns-equal-height").each(function(){$("> div",this).responsiveEqualHeightGrid()}),$(".owl-item-equal-height .owl-stage-outer").length&&$(".owl-item").length&&$(".owl-item-equal-height .owl-stage-outer").each(function(){$(".owl-item",this).responsiveEqualHeightGrid()})},do_init_fittext:function(){$.fn.fitText=function(e,o){var t=e||1,a=$.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},o);return this.each(function(){var e=$(this),o=function(){e.css("font-size",Math.max(Math.min(e.width()/(10*t),parseFloat(a.maxFontSize)),parseFloat(a.minFontSize)))};o(),$(window).on("resize.fittext orientationchange.fittext",o)})},$(".responsive-font-size").each(function(){var e=$(this),o={minFontSize:20,maxFontSize:50},t=$.parseJSON(e.attr("data-resize")),a=o;if(t&&t.font_size){a=$.extend({},o,t.font_size);var n=t&&t.compressor?t.compressor:1;e.fitText(n,a)}})},do_init_sticky:function(){$(".floral-sticky-enabled").each(function(){var options=eval("({"+$(this).data("sticky-setting")+"})");$(this).sticky(options)})},get_cookie:function(e){for(var o=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var n=t[a];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(o))return n.substring(o.length,n.length)}return""},set_cookie:function(e,o,t){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var n="expires="+a.toUTCString();document.cookie=e+"="+o+"; "+n},is_mobile_device:function(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())},validate_email:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},get_parameter_by_name:function(e,o){o||(o=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(o);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},scroll_to:function(e,o){e||(e=0),e=parseFloat(e.toString().trim().replace("px",""))+"px",o||(o=700),$("html,body").animate({scrollTop:e},o,"easeInOutQuart")},do_init_dismissible_element:function(){$(".dismissible-element").each(function(){var e=$(this);e.append('<span class="dismiss-button"><i class="w9 w9-ico-close"></i></span>'),$(".dismiss-button",e).on("click",function(){e.fadeOut(200)})})},do_init_tooltip:function(){$('[data-toggle="tooltip"]').tooltip({trigger:"hover"})},do_init_nicescroll:function(){$(".floral-nicescroll").each(function(){var e=$(this).attr("data-scrollbar-theme")||"minimal";$(this).mCustomScrollbar({theme:e,axis:"y",mouseWheel:{scrollAmount:200}})})},do_init_hoverdir:function(){$(".floral-overlay-container.__hoverdir:not(.hoverdir-ready)").each(function(e){$(this).hoverdir({hoverElement:".floral-overlay"}),$(this).addClass("hoverdir-ready")})}},floral.page={on_ready:function(){this.page_transition(),this.back_top_top(),this.ajax_search(),this.active_page_link(),this.vertical_menu(),this.easing_link()},on_load:function(){this.page_transition_fade_in()},active_page_link:function(){var e=window.location.href;$(".floral-main-menu-content li a").each(function(){$(this).attr("href")===e&&$(this).parents(".floral-main-menu-content li").addClass("menu-item_active-link")})},vertical_menu:function(){$(".floral-widget-vertical-multi-level .menu-item-has-children").each(function(e){var t=$(this),a=t.children(".sub-menu");t.children(".floral-link-container").children("a").on("click",function(e){e.preventDefault();var o=t.siblings();o.find(".sub-menu").slideUp(),o.removeClass("sub-menu-opening").find(".sub-menu-opening").removeClass("sub-menu-opening"),t.hasClass("sub-menu-opening")?(t.find(".sub-menu").slideUp(),t.find(".sub-menu-opening").removeClass("sub-menu-opening"),t.removeClass("sub-menu-opening")):(a.slideDown(),t.addClass("sub-menu-opening"))})})},popup:function(e,o){var t="#"+e+"-"+o,a=window.outerWidth-$body.outerWidth();$.magnificPopup.open({items:{src:t,type:"inline"},closeBtnInside:!1,autoFocusLast:!1,closeMarkup:'<button title="%title%" type="button" class="mfp-close"><i class="w9 w9-ico-close"></i></button>',removalDelay:300,mainClass:"floral-popup-wrapper animation-fade popup-area-type-"+e,callbacks:{open:function(){var e=$(".floral-nav-body.sticky-content"),o=parseInt(e.css("padding-right"))+a;e.css({"padding-right":+o+"px",transition:"all 0s"}),$(".page-rightzone-open .page-rightzone, #floral-back-to-top").css({"margin-right":+a+"px",transition:"all 0s"})},close:function(){var e=$(".floral-nav-body.sticky-content");e.css({"padding-right":""}),$(".page-rightzone-open .page-rightzone, #floral-back-to-top").css({"margin-right":""}),setTimeout(function(){e.css({transition:""}),$(".page-rightzone-open .page-rightzone, #floral-back-to-top").css({transition:""})},300)}}})},ajax_search:function(){$(document).on("submit","#floral-search-popup.search-type-ajax form",function(e){var o=$(this).find("input.search-field"),t=o.val(),a=$(".floral-ajax-search-content"),n=a.find(".__result"),i=a.find(".__loading");$.ajax({type:"post",url:floral_main_vars.ajax_url,data:{action:"floral_load_search_results",query:t},beforeSend:function(){o.prop("disabled",!0),i.fadeIn(),n.fadeOut()},success:function(e){o.prop("disabled",!1),n.html(e),i.fadeOut(),n.fadeIn()}}),e.preventDefault()})},page_leftzone:function(e){void 0===e?$body.toggleClass("page-leftzone-open"):"close"==e?$body.removeClass("page-leftzone-open"):"open"==e&&$body.addClass("page-leftzone-open")},page_rightzone:function(e){void 0===e?$body.toggleClass("page-rightzone-open"):"close"==e?$body.removeClass("page-rightzone-open"):"open"==e&&$body.addClass("page-rightzone-open")},page_transition:function(){if($body.hasClass("loading-transition-enable")){$('a.animsition-link, a:not([target="_blank"]):not([href^="#"]):not([href*="javascript"]):not([href*=".jpg"]):not([href*=".jpeg"]):not([href*=".gif"]):not([href*=".png"]):not([href*=".mov"]):not([href*=".swf"]):not([href*=".mp4"]):not([href*=".flv"]):not([href*=".avi"]):not([href*=".mp3"]):not([href^="mailto:"]):not([class*="no-animation"]):not([class*="single-item-popup"]):not([class*="gallery-popup"]):not([class*="add_to_wishlist"]):not([class*="add_to_cart_button"]):not([class*="prettyPhoto"]):not([rel*="prettyPhoto"]):not([class*="prettyphoto"]):not([class*="__cart-toggle"]):not([class*="comment-reply-link"]):not([id*="cancel-comment-reply-link"])').on("click",function(e){e.preventDefault();var o=$(this).attr("href");2===e.which||e.metaKey||e.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&e.ctrlKey?window.open(o,"_blank"):(floral.page.page_transition_fade_out(),window.location.href=o)})}},page_transition_fade_in:function(){$body.hasClass("loading-transition-enable")&&$(".floral-page-transitions-wrapper").fadeOut(800)},page_transition_fade_out:function(){$body.hasClass("loading-transition-enable")&&$(".floral-page-transitions-wrapper").fadeIn(500)},back_top_top:function(){var e=$("#floral-back-to-top");0<e.length&&($(window).on("scroll",function(){700<$(window).scrollTop()?e.addClass("active"):e.removeClass("active")}),e.on("click",function(e){e.preventDefault(),floral.core.scroll_to(0,700)}))},calculate_nav_space:function(){var e=$("#wpadminbar"),o=$("#floral-main-nav"),t=$("#floral-mobile-nav"),a=0;return 0<e.length&&(a+=e.outerHeight()),0<o.length&&(a+=o.outerHeight()),0<t.length&&(a+=t.outerHeight()),a},easing_link:function(){$('.menu-item a[href^="#"],.vc_icon_element a[href^="#"],.floral-button-wrapper a[href^="#"],.floral-main-nav a[href^="#"] ,.floral-vertical-menu-inner a[href^="#"] ,a.floral-easing-link[href^="#"] ').not('[href="#"]').on("click",function(e){e.preventDefault();var o=$($(this).attr("href"));if(0<o.length){var t=$(window),a=o.offset().top,n=t.scrollTop(),i=400+Math.abs(a-n)/3;$("html,body").animate({scrollTop:a},i,"easeInOutQuart")}})},scroll_spy:function(){if(0<$('#floral-main-menu a[href^="#"]').not('[href="#"]').length){var e=floral.page.calculate_nav_space();$("body").scrollspy({target:"#floral-main-menu",offset:e})}},page_disable_scrolling:function(){$html.hasClass("slipscreen-active")||$("html,body").css("overflow-y","hidden")},page_enable_scrolling:function(){$html.hasClass("slipscreen-active")||$html.css("overflow-y","auto")}},floral.slip_screen={on_ready:function(){var e=$("article.type-page > .entry-content"),o=e.children("section.vc_row");e.attr("id","slipscreen-container"),o.addClass("slipscreen-section");var t=[],a=[];o.each(function(e){var o=$(this);o[0].hasAttribute("data-anchor")||o.attr("data-anchor","slip_section-"+(e+1)),t.push(o.data("anchor")),o[0].hasAttribute("data-navigation-tooltip")||o.attr("data-navigation-tooltip",""),a.push(o.data("navigation-tooltip"))});var n=!1;function i(){!1===n&&(n=!0,$("#slipscreen-container").fullpage({sectionSelector:".slipscreen-section",anchors:t,navigation:!0,navigationTooltips:a,scrollingSpeed:500,scrollOverflow:!0,onLeave:function(e,o,t){1!==o?$body.hasClass("hidden-menu")||$body.addClass("hidden-menu"):$body.hasClass("hidden-menu")&&$body.removeClass("hidden-menu")}}))}i(),$window.on("resize load",function(){window.innerWidth<992?(n=!1,$.fn.fullpage.destroy("all"),$html.hasClass("slipscreen-active")&&$html.removeClass("slipscreen-active")):(i(),$html.hasClass("slipscreen-active")||$html.addClass("slipscreen-active"))})}},floral.header={on_ready:function(){this.sticky(),this.submenu_auto_set_position(),this.mini_cart_toggle()},sticky:function(){var e=$("#floral-main-nav");if(!(e.length<1)){var o=e.hasClass("floral-sticky"),t=e.parent();if(o){var a=Math.abs(parseInt(floral_main_vars.floral_sticky_show_up,10)),n=a;isNaN(a)&&(n=0);var i=e.offset().top+e.outerHeight()+n;e.find(".sticky-content").headroom({offset:i,tolerance:1,onTop:function(){$(".floral-nav-body.sticky-content").find(".floral-mini-cart").removeClass("open"),setTimeout(function(){t.removeClass("is-sticky")},300)},onNotTop:function(){$(".floral-nav-body:not(.sticky-content)").find(".floral-mini-cart").removeClass("open"),setTimeout(function(){t.addClass("is-sticky"),floral.woocommerce.do_make_custom_minicart_scrollbar(".floral-nav-body.sticky-content .widget_shopping_cart_content ul.cart_list")},300)}})}}},submenu_auto_set_position:function(){floral_main_vars.floral_scroll_set_submenu_position&&0<$(".floral-main-menu-content").length&&$(window).scroll(function(){var e=$(window).scrollTop(),o=$(".floral-main-menu-content").offset().top-e;$(window).height()/2<o?$(".floral-main-menu-content").hasClass("submenu-reverse")||$(".floral-main-menu-content").addClass("submenu-reverse"):$(".floral-main-menu-content").hasClass("submenu-reverse")&&$(".floral-main-menu-content").removeClass("submenu-reverse")})},mini_cart_toggle:function(){function e(){var e=$(".widget_shopping_cart_content ul.cart_list");if(0<e.length){var o=$(e[0]),t=0;o.find("li .quantity").each(function(){var e=parseInt($(this).attr("data-quantity"));e||(e=0),t+=e}),0<t?$(".floral-mini-cart").find(".__cart-toggle .__number-product").text(t).css("opacity",1):$(".floral-mini-cart").find(".__cart-toggle .__number-product").css("opacity",0)}}$(document.body).on("click",function(e){0===$(e.target).closest(".floral-mini-cart").length&&$(".floral-mini-cart").removeClass("open")}),$(document.body).on("added_to_cart wc_fragments_loaded wc_fragments_refreshed",function(){e()}),480<=$(window).outerWidth()&&!floral.core.is_mobile_device()&&$(".floral-mini-cart").each(function(){var t=$(this),a=t.find(".__cart-toggle"),e=t.find(".__cart-wrapper"),n=e.attr("data-allow-minicart");n||(n=!1),a.on("click",function(e){if(e.preventDefault(),"1"==n)t.toggleClass("open");else{var o=$("table.shop_table.cart");0<o.length?floral.core.scroll_to($(o[0]).offset().top-2*$("header.main-header").outerHeight()):window.location.href=a.attr("href")}}),e.on("click","a:not(.remove):not(.empty-cart):not(.undo)",function(){t.removeClass("open")})}),e()}},floral.blog={on_ready:function(){floral.blog.do_blog_grid(),floral.blog.do_blog_masonry(),floral.blog.blog_load_more(),floral.blog.blog_infinite_scroll()},do_blog_grid:function(){var e=$(".blog-type-grid");e.imagesLoaded(function(){e.isotope({itemSelector:".loop-item",layoutMode:"fitRows",percentPosition:!0,isOriginLeft:!isRTL}),e.isotope("layout"),floral.blog.init_filter(e),floral.blog.refresh_fitler(e)}),$window.on("load resize",function(){setTimeout(function(){e.isotope("layout")},300)})},do_blog_masonry:function(){var e=$(".blog-type-masonry");floral.blog.refresh_fitler(e),e.imagesLoaded(function(){e.isotope({itemSelector:".loop-item",layoutMode:"masonry",percentPosition:!0,isOriginLeft:!isRTL}),e.isotope("layout"),floral.blog.init_filter(e)}),$window.on("load resize",function(){setTimeout(function(){e.isotope("layout")},300)})},init_filter:function(o){var t=o.data("filter-id");t&&$(t).find(".filter-link").on("click",function(e){o.isotope({filter:$(this).data("filter")}),$(t).find("li").removeClass("active"),$(this).parent().addClass("active"),e.preventDefault()})},refresh_fitler:function(e){var o=e.data("filter-id");o&&$(o).find(".filter-link").each(function(){0<e.find($(this).data("filter")).length?$(this).parent().removeClass("hide"):$(this).parent().addClass("hide")})},blog_load_more:function(){$(".blog-load-more").on("click",function(e){var a=$(this).button("loading"),o=a.attr("data-next-page"),n=$(".posts-loop");e.preventDefault(),$.get(o,function(e){var o=$(".loop-item",e),t=$(".blog-load-more",e);0<o.length&&(o.css("opacity",0),o.imagesLoaded(function(){n.append(o),floral.core.magnific_single_image_popup(),floral.core.magnific_gallery_image_popup(),floral.core.do_owl_carousel(),floral.core.do_init_hoverdir(),floral.woocommerce.do_init_product_quick_view_feature(o.find("a.quick-view-btn")),(n.hasClass("blog-type-masonry")||n.hasClass("blog-type-grid"))&&(n.isotope("appended",o).isotope("layout"),floral.blog.refresh_fitler(n)),o.animate({opacity:1},500)})),0<t.length?a.attr("data-next-page",t.attr("data-next-page")):(a.attr("data-next-page",0),a.parents(".navigation-type-load-more").fadeOut()),a.button("reset")})})},blog_infinite_scroll:function(){var o=$(".floral-infinite-scroll"),t=$(".posts-loop");o.each(function(){$(window).on("scroll",function(){var e=$(window).scrollTop()+$(window).height();o.offset().top-e<700&&(o.hasClass("loading")||function(a,n){var i=a.find(".infinite-scroll-link"),e=i.attr("data-next-page"),r=a.find(".loading-three-bounce");if(0==e)return;a.addClass("loading"),r.animate({opacity:1},500),$.get(i.attr("data-next-page"),{action:"infinite-scroll"},function(e){var o=$(".loop-item",e),t=$(".infinite-scroll-link",e);0<o.length&&(o.css("opacity",0),o.imagesLoaded(function(){n.append(o),floral.core.magnific_single_image_popup(),floral.core.magnific_gallery_image_popup(),floral.core.do_owl_carousel(),floral.core.do_init_hoverdir(),floral.woocommerce.do_init_product_quick_view_feature(o.find("a.quick-view-btn")),(n.hasClass("blog-type-masonry")||n.hasClass("blog-type-grid"))&&(n.isotope("appended",o).isotope("layout"),floral.blog.refresh_fitler(n)),o.animate({opacity:1},500)})),0<t.length?(i.attr("data-next-page",t.attr("data-next-page")),a.removeClass("loading"),r.animate({opacity:0},500)):(i.attr("data-next-page",0),a.parents(".navigation-type-infinite-scroll").fadeOut())})}(o,t))})})}},floral.shortcodes={on_ready:function(){floral.shortcodes.demo_listing(),floral.shortcodes.do_counter(),floral.shortcodes.do_expand_section(),floral.shortcodes.do_init_button_icon_effects(),floral.shortcodes.ctf7_submit_action()},demo_listing:function(){var e=$(".floral-theme-demo-wrapper");0<e.length&&e.each(function(){var e=$(this),t=e.find(".floral-theme-demo-content"),a=e.find(".floral-demo-filter .__filter-item");t.imagesLoaded(function(){t.isotope({itemSelector:".floral-theme-demo-column",layoutMode:"fitRows"}),a.on("click",function(e){e.preventDefault(),a.removeClass("active"),$(this).addClass("active");var o=$(this).data("filter");"*"!=o&&(o="."+o),t.isotope({filter:o}),t.isotope("layout")})})})},do_counter:function(){$(".floral-counter-wrapper").each(function(e){var l=$(this).data("count-time")||1.5,o=$(this).find(".floral-counter-item .showed-man .__counter");$(this).find(".counter-item-inner");o.each(function(){var e=$(this),o=e[0],t=e.data("count-from"),a=e.data("count-to"),n=e.data("prefix"),i=e.data("suffix"),r=new CountUp(o,t,a,0,l,{prefix:n,suffix:i,separator:"",decimal:"."});e.waypoint({handler:function(){e.animate({opacity:1},500),r.start()},offset:"bottom-in-view"})})})},do_expand_section:function(){$(".floral-expandable-section").each(function(){var e=$(this),o=e.find(".toggle-content"),t=e.find(".expand-toggle-button"),a=t.attr("data-class-expand"),n=t.attr("data-class-collapse"),i=t.attr("data-toggle-animation");i&&-1!==["slide","fade"].indexOf(i)||(i="slide");var r=e.find(".button-content"),l=r.attr("data-expand-label"),s=r.attr("data-expand-icon"),c=r.attr("data-collapse-label"),d=r.attr("data-collapse-icon");function f(){return e.hasClass("es-state-expand")?"expand":e.hasClass("es-state-collapse")?"collapse":null}function u(e){switch(e){case"in":"slide"===i?o.slideDown():o.fadeIn();break;case"out":default:"slide"===i?o.slideUp():o.fadeOut()}}null!==f()&&t.on("click",function(){"expand"===f()?(e.removeClass("es-state-expand").addClass("es-state-collapse"),t.removeClass(a).addClass(n),r.find("i").removeClass(s).addClass(d),r.find(".state-label").text(c),u("out")):(e.removeClass("es-state-collapse").addClass("es-state-expand"),t.removeClass(n).addClass(a),r.find("i").removeClass(d).addClass(s),r.find(".state-label").text(l),u("in"))})})},ctf7_submit_action:function(){$(".floral-form").each(function(){var t=$(this),e=t.find(".wpcf7-submit");e.hasClass("floral-btn")&&(e.append('<div class="ctf7-loader"><i class="fa fa-cog fa-spin"></i></div>'),t.find("img.ajax-loader").css("display","none"));var a=e.find(".ctf7-loader");function o(){t.attr("in-process","false"),a.fadeOut(200)}e.on("click",function(e){var o;e.preventDefault(),("false"==(o=t.attr("in-process"))||0==o||""==o||void 0===o)&&(t.parents("form.wpcf7-form").trigger("submit"),t.attr("in-process","true"),a.fadeIn(200),t.find("input.wpcf7-not-valid, select.wpcf7-not-valid, textarea.wpcf7-not-valid").each(function(){var e=$(this);e.removeClass("wpcf7-not-valid"),e.css("background-color","")}))}),$(document).on("wpcf7:mailsent",function(){o()}),$(document).on("wpcf7:mailfailed",function(){o()}),$(document).on("wpcf7:spam",function(){o()}),$(document).on("wpcf7:invalid",function(){o(),t.find("input.wpcf7-not-valid, select.wpcf7-not-valid, textarea.wpcf7-not-valid").each(function(){var e=$(this);e.on("click",function(){e.css("background-color","#fff")})})})})},do_init_button_icon_effects:function(e){void 0===e&&(e=$(".floral-btn")),e.each(function(){var e=$(this);if(!e.hasClass("ready")&&(e.addClass("ready"),e.hasClass("align-icon-right")||e.hasClass("align-icon-left"))){var o=e.css("padding-left");if(!(o=parseInt(o.replace(/%|in|cm|mm|em|rem|ex|pt|pc|px|vw|vh|vmin|vmax/g,""))))return;var t=e.find("> i"),a=e.find("> span"),n=t.outerWidth(),i=(a.outerWidth(),0);e.hasClass("icon-effect-inner-out")||e.hasClass("icon-effect-outer-in")?i=o+1.5*n:(e.hasClass("icon-effect-inner-out-text")||e.hasClass("icon-effect-outer-in-text"))&&(i=o+n/2),0!==i&&(e.css("padding-left",i),e.css("padding-right",i));var r=(2*i-n-10)/2;if(e.hasClass("align-icon-left")){var l=t.css("left"),s=a.css("left");(e.hasClass("icon-effect-inner-out-text")||e.hasClass("icon-effect-outer-in-text"))&&e.hover(function(){t.animate({left:r},50),a.animate({left:i-r},50)},function(){t.animate({left:l},50),a.animate({left:s},50)}),(e.hasClass("icon-effect-inner-out")||e.hasClass("icon-effect-outer-in"))&&e.hover(function(){t.animate({left:i/2-n/2},50)},function(){t.animate({left:l},50)})}if(e.hasClass("align-icon-right")){var c=t.css("right"),d=a.css("right");(e.hasClass("icon-effect-inner-out-text")||e.hasClass("icon-effect-outer-in-text"))&&e.hover(function(){t.animate({right:r},50),a.animate({right:i-r},50)},function(){t.animate({right:c},50),a.animate({right:d},50)}),(e.hasClass("icon-effect-inner-out")||e.hasClass("icon-effect-outer-in"))&&e.hover(function(){t.animate({right:i/2-n/2},50)},function(){t.animate({right:c},50)})}}})}},floral.woocommerce={__cart_message:"",on_ready:function(){floral.woocommerce.thumbnail_slider(),floral.woocommerce.do_add_to_cart_active(),floral.woocommerce.do_quantity_input_action(),floral.woocommerce.do_init_product_quick_view_feature(),floral.woocommerce.do_init_effect_on_checkout_form_expanded(),floral.woocommerce.do_init_cart_action(),$(document.body).on("added_to_cart wc_fragments_refreshed wc_fragments_loaded",function(){var e=$(".cart_list_wrapper");e.find("p.cart-message").remove(),floral.woocommerce.__cart_message&&e.prepend('<p class="cart-message">'+floral.woocommerce.__cart_message+"</p>"),floral.woocommerce.do_init_cart_action(),floral.woocommerce.do_make_custom_minicart_scrollbar()})},on_load:function(){floral.woocommerce.do_make_custom_minicart_scrollbar()},thumbnail_slider:function(e){void 0===e&&(e=$(".product-item-images-slide-show")),e.each(function(){var e=$(this),t=e.find(".sync-1"),i=e.find(".sync-2");e.addClass("thumbnail-ready"),floral.core.do_slick_carousel(t),t.on("beforeChange",function(e,o,t,a){var n;n=a,i.find(".slick-slide").removeClass("synced").eq(n).addClass("synced"),function(e){var o=e,t=!1,a=i.find(".slick-slide:last").index();for(var n in r)o===r[n]&&(t=!0);!1===t?o>r[r.length-1]?o==a?i.slick("slickGoTo",o-r.length+1):i.slick("slickGoTo",o-r.length+2):o-1==-1?i.slick("slickGoTo",0):i.slick("slickGoTo",o-1):o===r[r.length-1]?i.slick("slickGoTo",r[1]):o===r[0]&&i.slick("slickGoTo",o-1)}(n)});var r=[],n=0;i.on("init",function(e,o){$(this).find(".slick-slide").eq(0).addClass("synced");var t=window.innerWidth;1020<=t&&(n=4),t<1020&&(n=3);for(var a=0;a<n;a++)r.push(a)}),$window.on("resize load",function(e){var o=window.innerWidth;1020<=o&&(n=4),o<1020&&(n=3)}),i.on("afterChange",function(e,o,t){r.length=0;for(var a=t;a<t+n;a++)r.push(a)}),floral.core.do_slick_carousel(i),i.on("click",".slick-slide",function(e){e.preventDefault();var o=$(this).data("slick-index");t.slick("slickGoTo",o)})})},do_quantity_input_action:function(e){void 0===e&&(e=$(".quantity")),e.each(function(){var e=$(this),t=e.find('input[type="text"]'),o=e.find('button[data-action="plus"]'),a=e.find('button[data-action="minus"]');if(0!=t.length){e.addClass("ready");var n=parseInt(t.attr("max")),i=parseInt(t.attr("step"));n||(n=100),i||(i=1),t.on("keypress",function(e){if(!String.fromCharCode(e.which).match(/[0-9+-]/))return!1}),t.on("keyup",function(e){var o=parseInt($(this).val());n<o&&$(this).val(n),o<1&&$(this).val(1)}),t.on("blur",function(e){var o=parseInt($(this).val());isNaN(o)&&$(this).val(1)}),o.on("click",function(e){e.preventDefault();var o=r()+i;o<1?o=1:n<o&&(o=n),t.val(o),l()}),a.on("click",function(e){e.preventDefault();var o=r()-i;o<1?o=1:n<o&&(o=n),t.val(o),l()})}function r(){var e=parseInt(t.val());return e||0}function l(){var e=$('div.woocommerce > form input[name="update_cart"]'),o=e.prop("disabled");0<e.length&&o&&e.prop("disabled",!1)}})},do_add_to_cart_active:function(){$(document.body).on("adding_to_cart",function(e,o){o.parents(".product-thumbnail").addClass("active")}),$(document.body).on("added_to_cart",function(e,o,t,a){setTimeout(function(){a.parents(".product-thumbnail").removeClass("active"),a.removeClass("added")},1500)})},do_init_product_quick_view_feature:function(e){$body.hasClass("woocommerce-page")&&$body.hasClass("product-quick-view-enabled")&&(void 0===e&&(e=$("a.quick-view-btn:not(.ready)")),e.on("click",function(e){var o,a=$(this),n=a.parents(".loop-item"),t=a.attr("data-product-id"),i=$("#floral-quick-view"),r=i.find(".block-loader-inner"),l=i.find(".quick-view-product");function s(){return $body.hasClass("product-quick-view-nav-enabled")}function c(){var t;a.parents(".product-thumbnail").removeClass("active"),a.find("i").removeClass("fa-spinner fa-spin").addClass("fa-expand"),floral.woocommerce.do_quantity_input_action($(".quantity:not(.ready)",i)),floral.woocommerce.thumbnail_slider($(".product-item-images-slide-show:not(.thumbnail-ready)",i)),floral.shortcodes.do_init_button_icon_effects($(".floral-btn:not(.ready)",i)),s()&&(d(),(t=i.find(".qv-nav-item:not(.ready)")).each(function(){var o=$(this);o.addClass("ready"),o.on("click",function(){t.addClass("disabled"),o.hasClass("qv-next")?n=n.next():o.hasClass("qv-prev")&&(n=n.prev());var e=o.attr("data-product-id");f(e)})}))}function d(){var e=n.next().find(".quick-view-btn").attr("data-product-id"),o=n.prev().find(".quick-view-btn").attr("data-product-id"),t=i.find(".qv-next"),a=i.find(".qv-prev");t.removeClass("disabled"),a.removeClass("disabled"),void 0===e?t.addClass("disabled"):t.attr("data-product-id",e),void 0===o?a.addClass("disabled"):a.attr("data-product-id",o)}function f(e){var o={action:"load_quick_view_product_content",product_id:e};r.css("display","block"),$.ajax({type:"GET",url:floral_main_vars.ajax_url,data:o,success:function(e){(l=i.find(".quick-view-product")).animate({opacity:0},500).remove(),i.find(".quick-view-content").append(e),l=i.find(".quick-view-product"),floral.woocommerce.thumbnail_slider($(".product-item-images-slide-show:not(.thumbnail-ready)",i)),l.fadeIn(),setTimeout(function(){floral.woocommerce.do_quantity_input_action($(".quantity:not(.ready)",l)),floral.shortcodes.do_init_button_icon_effects($(".floral-btn:not(.ready)",l)),s()&&d(),r.css("display","none")},100)},error:function(e){console.log(e)}})}function u(){i.modal("show")}e.preventDefault(),a.addClass("ready"),a.parents(".product-thumbnail").addClass("active"),a.find("i").removeClass("fa-expand").addClass("fa-spinner fa-spin"),i.on("shown.bs.modal",function(){c()}),0===i.length?(o={action:"load_quick_view_wrapper",product_id:t},$.ajax({type:"GET",url:floral_main_vars.ajax_url,data:o,success:function(e){$body.append(e),i=$("#floral-quick-view"),r=i.find(".block-loader-inner"),l=i.find(".quick-view-product"),i.modal({show:!1,keyboard:!1}),i.on("shown.bs.modal",function(){c()}),u()},error:function(e){console.log(e)}})):(u(),t!==l.attr("data-product-id")&&f(t))}))},do_init_effect_on_checkout_form_expanded:function(){$body.hasClass("woocommerce-checkout")&&$("a.showcoupon, a.showlogin").on("click",function(){var e=$(this),o=$("a.showcoupon"),t=$("a.showlogin");e.toggleClass("active"),e.parents(".woocommerce").find("form.checkout").addClass("above-form-expanded"),o.hasClass("active")||t.hasClass("active")||e.parents(".woocommerce").find("form.checkout").removeClass("above-form-expanded")})},do_init_cart_action:function(d){$body.hasClass("mini-cart-ajax-actions-enabled")&&(void 0===d&&(d=$(".cart_list_wrapper:not(.ready)")),d.each(function(){var e=$(this),o=e.find("a.empty-cart"),t=e.find("a.remove"),a=e.find("a.undo"),n=d.find(".cart-message"),i=d.find(".block-loader-inner");function r(){i.fadeIn()}function l(){i.fadeOut()}function s(e){e||(e=floral.woocommerce.__cart_message),0==n.length&&(d.prepend('<p class="cart-message"></p>'),n=d.find(".cart-message")),e?n.empty().append(e):n.remove()}function c(){s(floral_main_vars.error_message)}e.addClass("ready"),$(document.body).on("wc_fragments_refreshed",function(){console.log(floral.woocommerce.__cart_message),l()}),o.on("click",function(e){e.preventDefault(),r(),$.ajax({type:"GET",dataType:"html",url:o.attr("href"),success:function(e){$(document.body).trigger("wc_fragment_refresh")},error:function(e){l()}})}),t.on("click",function(e){e.preventDefault();var o=$(this).attr("href"),t=floral.core.get_parameter_by_name("remove_item",o),a=floral.core.get_parameter_by_name("_wpnonce",o);if(t&&a){var n={action:"woocommerce_remove_cart_item",cik:t,_nonce:a};r(),$.ajax({type:"GET",data:n,url:floral_main_vars.ajax_url,success:function(e){try{console.log(e),"success"==(e=$.parseJSON(e)).status?($(document.body).trigger("wc_fragment_refresh"),floral.woocommerce.__cart_message=e.message):(console.log(e.message),floral.woocommerce.__cart_message=e.message,s(),l())}catch(e){console.log(e),c(),l()}},error:function(e){console.log(e),c(),l()}})}}),a.on("click",function(e){e.preventDefault();var o=$(this).attr("href"),t=floral.core.get_parameter_by_name("undo_item",o),a=floral.core.get_parameter_by_name("_wpnonce",o);if(t&&a){var n={action:"woocommerce_undo_cart_item",cik:t,_nonce:a};r(),$.ajax({type:"GET",data:n,url:floral_main_vars.ajax_url,success:function(e){try{console.log(e),"success"==(e=$.parseJSON(e)).status?($(document.body).trigger("wc_fragment_refresh"),floral.woocommerce.__cart_message=""):(console.log(e.message),floral.woocommerce.__cart_message=e.message,s(),l())}catch(e){console.log(e),c(),l()}},error:function(e){console.log(e),c(),l()}})}})}))},do_make_custom_minicart_scrollbar:function(e){$(e||".widget_shopping_cart_content ul.cart_list").each(function(){var e=$(this),o=e.parents(".__cart-wrapper");e.addClass("custom-scrollbar-ready");var t=0,a=e.find("li.mini_cart_item"),n=parseInt(e.attr("data-scrollbar-start"));if(n||(n=3),!(a.length<n)){o.css({opacity:0,display:"block"}),a.each(function(e){e<n&&(t+=$(this).outerHeight(!0))}),o.css({display:"",opacity:1}),e.css("max-height",t);var i=o.attr("data-scrollbar-theme");i||(i="dark"),e.mCustomScrollbar({theme:i,axis:"y",mouseWheel:{scrollAmount:150}})}})}},$(document).ready(function(){floral.core.on_ready(),floral.page.on_ready(),floral.header.on_ready(),$body.hasClass("slipscreen-mode-on")&&floral.slip_screen.on_ready(),floral.blog.on_ready(),floral.shortcodes.on_ready(),floral.woocommerce.on_ready()}),$(window).load(function(){floral.page.on_load()}),$(document.body).on("wc_fragments_loaded",function(){floral.woocommerce.do_make_custom_minicart_scrollbar()})}(jQuery,window);